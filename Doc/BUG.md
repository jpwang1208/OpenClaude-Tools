# OpenClaude-Tools Bug 追踪文档

## Bug 报告规范

请按以下格式报告 Bug：

```markdown
## [Bug ID]

**标题**: 
**优先级**: P0 / P1 / P2 / P3
**状态**: Open / In Progress / Resolved / Won't Fix
**环境**: 
  - OS: 
  - App Version: 
  
**描述**:
[详细描述问题]

**复现步骤**:
1. 
2. 
3. 

**预期行为**:
[期望发生什么]

**实际行为**:
[实际发生了什么]

**截图/日志**:
[如有相关截图或日志，请附上]

**解决方案**:
[如果已解决，请记录解决方案]
```

---

## 已记录 Bug

### [BUG-001]

**标题**: 配置文件路径在不同操作系统不一致
**优先级**: P0
**状态**: Open
**环境**:
  - OS: Windows
  - App Version: 1.0.0

**描述**:
在 Windows 系统中，OpenCode 配置文件路径为 `%APPDATA%\opencode\opencode.json`，Claude Code 配置在 `%APPDATA%\Claude\settings.json`。当前代码使用硬编码的 Unix 路径。

**复现步骤**:
1. 在 Windows 系统上运行应用
2. 查看配置加载状态

**预期行为**:
正确识别并加载配置文件

**实际行为**:
配置文件加载失败，提示路径不存在

**解决方案**:
[待解决]

---

### [BUG-002]

**标题**: Claude Code MCP 配置位置不准确
**优先级**: P1
**状态**: Open
**环境**:
  - OS: macOS
  - App Version: 1.0.0

**描述**:
Claude Code 的 MCP 配置分布在多个插件目录中，而不是统一在某个文件中。需要遍历 `~/.claude/plugins/` 下的所有插件目录，查找 `.mcp.json` 文件。

**复现步骤**:
1. 安装多个 Claude Code 插件
2. 运行应用查看 MCP 列表

**预期行为**:
显示所有已安装插件的 MCP 配置

**实际行为**:
只显示部分 MCP 配置

**解决方案**:
[待解决]

---

### [BUG-003]

**标题**: 同步预览显示的差异不够直观
**优先级**: P2
**状态**: Open
**环境**:
  - OS: macOS
  - App Version: 1.0.0

**描述**:
同步预览页面使用纯文本展示差异，对于复杂配置（如嵌套的 JSON）不够直观。用户难以快速理解哪些配置将被添加、修改或删除。

**复现步骤**:
1. 打开同步中心
2. 点击预览同步

**预期行为**:
直观展示配置差异，使用颜色区分新增、修改、删除

**实际行为**:
以平面列表形式展示，用户体验不佳

**解决方案**:
[待解决]

---

### [BUG-004]

**标题**: 配置文件备份功能缺失
**优先级**: P1
**状态**: Open
**环境**:
  - OS: All
  - App Version: 1.0.0

**描述**:
在修改配置文件前，没有自动创建备份。如果操作失误，用户无法回滚到之前的状态。

**复现步骤**:
1. 打开任意配置编辑页面
2. 进行修改并保存

**预期行为**:
自动创建配置文件备份

**实际行为**:
没有备份，直接覆盖原文件

**解决方案**:
[待解决]

---

### [BUG-005]

**标题**: 中文界面部分翻译缺失
**优先级**: P2
**状态**: Open
**环境**:
  - OS: All
  - App Version: 1.0.0

**描述**:
切换到中文界面后，部分按钮和提示文字仍然显示英文。

**复现步骤**:
1. 打开设置页面
2. 选择语言为中文
3. 查看各页面

**预期行为**:
所有界面文字显示中文

**实际行为**:
部分文字仍显示英文

**解决方案**:
[待解决]

---

## 已修复 Bug

### [BUG-FIX-001]

**标题**: 初始加载时配置文件检测延迟
**优先级**: P1
**状态**: Resolved
**修复版本**: 1.0.0
**修复描述**: 
- 优化配置文件检测逻辑，使用并行检测
- 添加加载状态指示器
- 添加配置文件不存在时的引导提示

---

## 已知限制

### LIMIT-001

**限制**: 不支持配置文件格式验证
**描述**: 用户手动编辑配置文件后，如果格式错误，应用可能在运行时崩溃
**建议**: 后续版本添加 JSON Schema 验证

### LIMIT-002

**限制**: 不支持自定义配置文件路径
**描述**: 应用硬编码了配置文件路径，不允许用户自定义
**建议**: 后续版本添加自定义路径配置

---

## 反馈渠道

如果你发现了 Bug，请通过以下方式报告：

1. **GitHub Issues**: https://github.com/opencode-tools/openClaude-tools/issues
2. **邮件**: support@opencode.tools

---

*文档最后更新: 2026-02-26*
