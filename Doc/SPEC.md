# OpenClaude-Tools 需求规格文档

## 1. 项目概述

### 1.1 项目名称
**OpenClaude-Tools** - OpenCode 与 Claude Code 配置同步与管理工具

### 1.2 项目类型
跨平台桌面应用程序（Tauri + React + TypeScript）

### 1.3 核心功能概述
一款可视化配置管理工具，用于同步和编辑 OpenCode 与 Claude Code 的 MCP（Model Context Protocol）和 Skills 配置。两个软件的原始配置保持不变，仅同步 A 有而 B 没有的配置项，并提供可视化编辑功能。

### 1.4 目标用户
- 使用 OpenCode 和 Claude Code 的开发者
- 需要管理多个 AI 编码助手配置的开发者
- 希望统一管理 MCP 和 Skills 的高级用户

---

## 2. 功能清单

### 2.1 配置文件检测与解析

| 功能ID | 功能名称 | 功能描述 | 优先级 |
|--------|----------|----------|--------|
| F01 | 配置文件检测 | 自动检测 OpenCode 和 Claude Code 的配置文件路径 | P0 |
| F02 | MCP配置解析 | 解析两者的 MCP 配置文件 | P0 |
| F03 | Skills配置解析 | 解析 Skills 相关配置（OpenCode: oh-my-opencode.json, Claude Code: plugins） | P0 |
| F04 | 配置差异对比 | 可视化对比两个软件配置的差异 | P0 |

### 2.2 同步功能

| 功能ID | 功能名称 | 功能描述 | 优先级 |
|--------|----------|----------|--------|
| F05 | 单向同步 | 将 A 有而 B 没有的配置同步到 B | P0 |
| F06 | 双向同步 | 检测并提示需要双向同步的项目 | P1 |
| F07 | 同步预览 | 同步前预览将要执行的更改 | P0 |
| F08 | 同步历史 | 记录所有同步操作的历史 | P1 |

### 2.3 可视化编辑

| 功能ID | 功能名称 | 功能描述 | 优先级 |
|--------|----------|----------|--------|
| F09 | MCP列表展示 | 以卡片/列表形式展示所有 MCP | P0 |
| F10 | MCP详情编辑 | 可视化编辑 MCP 的配置项 | P0 |
| F11 | MCP新增 | 可视化新增 MCP 配置 | P0 |
| F12 | MCP删除 | 删除指定的 MCP 配置 | P0 |
| F13 | Skills列表展示 | 展示所有已安装的 Skills | P0 |
| F14 | Skills启用/禁用 | 快速启用或禁用 Skills | P1 |
| F15 | 配置导入 | 从文件导入配置 | P2 |
| F16 | 配置导出 | 导出配置到文件 | P2 |

### 2.4 系统功能

| 功能ID | 功能名称 | 功能描述 | 优先级 |
|--------|----------|----------|--------|
| F17 | 深色/浅色模式 | 支持深色和浅色主题切换 | P0 |
| F18 | 中英文切换 | 支持中文和英文界面 | P0 |
| F19 | 自动检测更新 | 检测配置文件变化并提示 | P1 |
| F20 | 系统托盘 | 支持最小化到系统托盘 | P2 |

---

## 3. UI/UX 设计要求

### 3.1 整体风格

**设计语言**: 现代科技感 + 赛博朋克元素

**核心风格**:
- 简洁、科技感强
- 卡片式布局为主
- 微妙的发光效果和渐变
- 清晰的层次结构

### 3.2 布局结构

```
┌─────────────────────────────────────────────────────────────┐
│  顶部导航栏 (64px)                                           │
│  [Logo] [OpenCode] [Claude Code] [设置] [主题切换] [语言]    │
├─────────────────────────────────────────────────────────────┤
│  主内容区域                                                  │
│  ┌─────────────┬─────────────────────────────────────────┐ │
│  │ 侧边栏      │  内容面板                                  │ │
│  │ (240px)    │                                           │ │
│  │             │  - MCP 列表/详情                           │ │
│  │ - 仪表盘    │  - Skills 列表                            │ │
│  │ - MCP管理   │  - 同步预览                               │ │
│  │ - Skills管理│  - 设置                                   │ │
│  │ - 同步中心  │                                           │ │
│  │ - 历史记录  │                                           │ │
│  └─────────────┴─────────────────────────────────────────┘ │
├─────────────────────────────────────────────────────────────┤
│  底部状态栏 (32px)                                           │
│  [状态信息] [版本号] [检查更新]                               │
└─────────────────────────────────────────────────────────────┘
```

### 3.3 配色方案

**深色模式 (Dark Mode)**:
- 主色 (Primary): `#6366F1` (Indigo-500)
- 次色 (Secondary): `#8B5CF6` (Violet-500)
- 强调色 (Accent): `#06B6D4` (Cyan-500)
- 背景色 (Background): `#0F0F23`
- 卡片背景: `#1A1A2E`
- 边框色: `#2D2D44`
- 文字主色: `#F8FAFC`
- 文字次色: `#94A3B8`
- 成功色: `#10B981`
- 警告色: `#F59E0B`
- 错误色: `#EF4444`

**浅色模式 (Light Mode)**:
- 主色 (Primary): `#4F46E5` (Indigo-600)
- 次色 (Secondary): `#7C3AED` (Violet-600)
- 强调色 (Accent): `#0891B2` (Cyan-600)
- 背景色 (Background): `#F8FAFC`
- 卡片背景: `#FFFFFF`
- 边框色: `#E2E8F0`
- 文字主色: `#0F172A`
- 文字次色: `#64748B`
- 成功色: `#059669`
- 警告色: `#D97706`
- 错误色: `#DC2626`

### 3.4 字体规范

- 主字体: `Inter`, `SF Pro Display`, `-apple-system`, `BlinkMacSystemFont`, `Segoe UI`, `sans-serif`
- 等宽字体: `JetBrains Mono`, `Fira Code`, `SF Mono`, `Monaco`, `monospace`
- 标题 H1: 28px, font-weight: 700
- 标题 H2: 22px, font-weight: 600
- 标题 H3: 18px, font-weight: 600
- 正文: 14px, font-weight: 400
- 小字: 12px, font-weight: 400
- 代码: 13px, font-weight: 400

### 3.5 间距系统

- 基础单位: 4px
- 间距等级: 4px, 8px, 12px, 16px, 24px, 32px, 48px, 64px
- 卡片内边距: 16px
- 卡片间距: 16px
- 页面边距: 24px
- 侧边栏宽度: 240px

### 3.6 组件规范

**按钮**:
- 主按钮: 主色背景, 白色文字, 圆角 8px, 高度 40px
- 次按钮: 透明背景, 主色边框和文字, 圆角 8px, 高度 40px
- 文字按钮: 无背景, 主色文字, 高度 32px
- 禁用状态: opacity: 0.5, cursor: not-allowed

**卡片**:
- 背景: 卡片背景色
- 边框: 1px solid 边框色
- 圆角: 12px
- 阴影 (深色): 0 4px 6px -1px rgba(0, 0, 0, 0.3)
- 阴影 (浅色): 0 4px 6px -1px rgba(0, 0, 0, 0.1)

**输入框**:
- 高度: 40px
- 边框: 1px solid 边框色
- 圆角: 8px
- 聚焦: 边框变为主色, 添加发光效果

**开关**:
- 宽度: 44px
- 高度: 24px
- 开启: 主色背景
- 关闭: 边框色背景

**标签 (Tag/Badge)**:
- 高度: 24px
- 圆角: 12px
- 内边距: 0 8px

### 3.7 动画效果

- 过渡时间: 150ms (快速), 300ms (正常)
- 缓动函数: cubic-bezier(0.4, 0, 0.2, 1)
- 悬停效果: 轻微上浮 + 阴影增强
- 点击效果: 轻微缩小 (scale: 0.98)
- 加载动画: 脉冲发光效果

---

## 4. 技术架构

### 4.1 技术栈

- **前端框架**: React 18 + TypeScript
- **UI 组件库**: Tailwind CSS + 自定义组件
- **状态管理**: Zustand
- **桌面框架**: Tauri 2.x
- **构建工具**: Vite

### 4.2 项目结构

```
openClaude-tools/
├── src/                    # React 前端源码
│   ├── components/         # UI 组件
│   ├── pages/              # 页面组件
│   ├── hooks/              # 自定义 Hooks
│   ├── stores/             # Zustand 状态管理
│   ├── i18n/               # 国际化
│   ├── styles/             # 样式文件
│   ├── types/              # TypeScript 类型定义
│   └── utils/               # 工具函数
├── src-tauri/              # Tauri 后端源码
│   ├── src/                # Rust 源码
│   │   ├── commands/        # Tauri 命令
│   │   ├── config/          # 配置解析
│   │   └── sync/            # 同步逻辑
│   ├── Cargo.toml          # Rust 依赖
│   └── tauri.conf.json     # Tauri 配置
├── public/                 # 静态资源
├── Doc/                    # 文档目录
│   ├── SPEC.md             # 需求文档
│   ├── ARCHITECTURE.md     # 架构文档
│   └── BUG.md              # Bug 记录
├── README.md               # 项目说明
└── package.json            # Node 依赖
```

### 4.3 配置文件路径约定

**OpenCode**:
- 主配置: `~/.config/opencode/opencode.json`
- Skills/Agents: `~/.config/opencode/oh-my-opencode.json`

**Claude Code**:
- 主配置: `~/.claude/settings.json`
- MCP: `~/.claude/plugins/` (各插件目录下的 .mcp.json)

---

## 5. 验收标准

### 5.1 功能验收

- [ ] 能正确检测并解析两个软件的配置文件
- [ ] 能准确对比并展示配置差异
- [ ] 能实现单向同步（A → B 或 B → A）
- [ ] 同步前能预览将要执行的更改
- [ ] 能可视化新增、编辑、删除 MCP 配置
- [ ] 能可视化新增、编辑、删除 Skills 配置
- [ ] 深色/浅色模式切换正常
- [ ] 中英文切换正常

### 5.2 UI 验收

- [ ] 整体风格科技感强，符合设计规范
- [ ] 配色方案符合深色/浅色模式要求
- [ ] 字体、间距、组件尺寸符合规范
- [ ] 动画效果流畅自然
- [ ] 响应式布局在不同窗口尺寸下正常显示

### 5.3 平台验收

- [ ] Windows 平台打包正常，运行正常
- [ ] macOS 平台打包正常，运行正常
- [ ] Linux 平台打包正常，运行正常

---

## 6. 版本规划

### v1.0.0 (MVP)
- 配置文件检测与解析
- MCP 配置同步
- 基础可视化编辑
- 深色/浅色模式
- 中英文支持

### v1.1.0
- Skills 配置同步
- 同步历史记录
- 配置导入/导出

### v1.2.0
- 系统托盘支持
- 自动更新检测
- 更多高级功能

---

*文档版本: 1.0.0*
*创建日期: 2026-02-26*
